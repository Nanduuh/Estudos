<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog de Estudos - Compartilhe Conhecimento</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<header class="topo">
  <img src="img/logo.png" alt="Blog Estudos" class="logo-img">
  <p class="descricao">Compartilhe â€¢ Aprenda â€¢ Conecte-se â€¢ Evolua</p>

  <nav class="menu" id="menu-login">
    <!-- Menu dinÃ¢mico serÃ¡ atualizado por auth.js -->
  </nav>
</header>

<main class="container">
  
  <!-- SeÃ§Ã£o Hero -->
  <section class="hero">
    <div class="hero-content">
      <h2>Bem-vindo Ã  comunidade de estudos!</h2>
      <p>Compartilhe seus resumos, tire dÃºvidas e ajude outros estudantes.</p>
      
      <div class="hero-buttons" id="hero-buttons">
        <!-- BotÃµes dinÃ¢micos baseados no login -->
      </div>
    </div>
    <div class="hero-image">
      <i class="fas fa-graduation-cap"></i>
    </div>
  </section>

  <!-- SeÃ§Ã£o Principal: Feed de Posts e Categorias -->
  <div class="blog-layout">
    
    <!-- Coluna principal: Feed de posts -->
    <div class="feed-posts">
      <div class="feed-header">
        <h3><i class="fas fa-newspaper"></i> Posts Recentes</h3>
        <button class="btn-novo-post" id="btnNovoPost" onclick="mostrarFormularioPost()">
          <i class="fas fa-plus"></i> Novo Post
        </button>
      </div>

      <!-- FormulÃ¡rio de novo post (inicialmente oculto) -->
      <div class="form-post-container" id="formPostContainer" style="display: none;">
        <h4>Compartilhe seu conhecimento</h4>
        <form id="formNovoPost" class="auth-form">
          <div class="form-group">
            <label for="postTitulo">TÃ­tulo do Post</label>
            <input type="text" id="postTitulo" placeholder="Ex: Como estudar quÃ­mica orgÃ¢nica" required>
          </div>

          <div class="form-group">
            <label for="postMateria">MatÃ©ria</label>
            <select id="postMateria" required>
              <option value="">Selecione uma matÃ©ria</option>
              <option value="portugues">ğŸ“˜ PortuguÃªs</option>
              <option value="matematica">ğŸ“ MatemÃ¡tica</option>
              <option value="ciencias">ğŸ§ª CiÃªncias</option>
              <option value="historia">ğŸ“œ HistÃ³ria</option>
              <option value="geografia">ğŸŒ Geografia</option>
              <option value="ingles">ğŸ‡¬ğŸ‡§ InglÃªs</option>
              <option value="fisica">âš™ï¸ FÃ­sica</option>
              <option value="quimica">âš—ï¸ QuÃ­mica</option>
              <option value="biologia">ğŸ§¬ Biologia</option>
              <option value="outros">ğŸ“š Outros</option>
            </select>
          </div>

          <div class="form-group">
            <label for="postConteudo">ConteÃºdo</label>
            <textarea id="postConteudo" rows="5" placeholder="Compartilhe seu resumo, dica ou pergunta..." required></textarea>
          </div>

          <div class="form-group">
            <label for="postTags">Tags (separadas por vÃ­rgula)</label>
            <input type="text" id="postTags" placeholder="Ex: resumo, dica, vestibular, enem">
          </div>

          <div class="form-buttons">
            <button type="submit" class="btn-login">
              <i class="fas fa-paper-plane"></i> Publicar
            </button>
            <button type="button" class="btn-cancelar" onclick="esconderFormularioPost()">
              Cancelar
            </button>
          </div>
        </form>
      </div>

      <!-- Ãrea onde os posts serÃ£o exibidos -->
      <div class="posts-container" id="postsContainer">
        <!-- Os posts serÃ£o carregados aqui via JavaScript -->
        <div class="post-vazio">
          <i class="fas fa-comment-alt"></i>
          <h4>Nenhum post ainda</h4>
          <p>Seja o primeiro a compartilhar conhecimento!</p>
        </div>
      </div>
    </div>

    <!-- Coluna lateral: Categorias e informaÃ§Ãµes -->
    <div class="sidebar">
      
      <!-- Categorias -->
      <div class="sidebar-box">
        <h4><i class="fas fa-folder"></i> Categorias de Estudo</h4>
        <div class="lista-categorias">
          <a class="categoria" href="materias/portugues.html">
            <span class="categoria-icon">ğŸ“˜</span>
            <span class="categoria-texto">PortuguÃªs</span>
            <span class="categoria-count" id="count-portugues">0</span>
          </a>

          <a class="categoria" href="materias/matematica.html">
            <span class="categoria-icon">ğŸ“</span>
            <span class="categoria-texto">MatemÃ¡tica</span>
            <span class="categoria-count" id="count-matematica">0</span>
          </a>

          <a class="categoria" href="materias/ciencias.html">
            <span class="categoria-icon">ğŸ§ª</span>
            <span class="categoria-texto">CiÃªncias</span>
            <span class="categoria-count" id="count-ciencias">0</span>
          </a>

          <a class="categoria" href="materias/historia.html">
            <span class="categoria-icon">ğŸ“œ</span>
            <span class="categoria-texto">HistÃ³ria</span>
            <span class="categoria-count" id="count-historia">0</span>
          </a>

          <a class="categoria" href="materias/geografia.html">
            <span class="categoria-icon">ğŸŒ</span>
            <span class="categoria-texto">Geografia</span>
            <span class="categoria-count" id="count-geografia">0</span>
          </a>

          <a class="categoria" href="materias/ingles.html">
            <span class="categoria-icon">ğŸ‡¬ğŸ‡§</span>
            <span class="categoria-texto">InglÃªs</span>
            <span class="categoria-count" id="count-ingles">0</span>
          </a>

          <a class="categoria" href="materias/fisica.html">
            <span class="categoria-icon">âš™ï¸</span>
            <span class="categoria-texto">FÃ­sica</span>
            <span class="categoria-count" id="count-fisica">0</span>
          </a>

          <a class="categoria" href="materias/quimica.html">
            <span class="categoria-icon">âš—ï¸</span>
            <span class="categoria-texto">QuÃ­mica</span>
            <span class="categoria-count" id="count-quimica">0</span>
          </a>

          <a class="categoria" href="materias/biologia.html">
            <span class="categoria-icon">ğŸ§¬</span>
            <span class="categoria-texto">Biologia</span>
            <span class="categoria-count" id="count-biologia">0</span>
          </a>
        </div>
      </div>

      <!-- UsuÃ¡rios Ativos -->
      <div class="sidebar-box" id="usuariosAtivosBox" style="display: none;">
        <h4><i class="fas fa-users"></i> Estudantes Ativos</h4>
        <div class="lista-usuarios" id="listaUsuarios">
          <!-- UsuÃ¡rios serÃ£o carregados aqui -->
        </div>
      </div>

      <!-- Dicas RÃ¡pidas -->
      <div class="sidebar-box">
        <h4><i class="fas fa-lightbulb"></i> Dica do Dia</h4>
        <div class="dica-box">
          <p id="dicaDoDia">Estude em perÃ­odos curtos (25-30 minutos) com intervalos de 5 minutos. Isso melhora a retenÃ§Ã£o do conteÃºdo!</p>
        </div>
      </div>

      <!-- EstatÃ­sticas -->
      <div class="sidebar-box">
        <h4><i class="fas fa-chart-bar"></i> EstatÃ­sticas</h4>
        <div class="estatisticas">
          <div class="estatistica-item">
            <span class="estatistica-num" id="totalPosts">0</span>
            <span class="estatistica-label">Posts</span>
          </div>
          <div class="estatistica-item">
            <span class="estatistica-num" id="totalUsuarios">0</span>
            <span class="estatistica-label">Estudantes</span>
          </div>
          <div class="estatistica-item">
            <span class="estatistica-num" id="totalComentarios">0</span>
            <span class="estatistica-label">ComentÃ¡rios</span>
          </div>
        </div>
      </div>

    </div>
  </div>

</main>

<footer>
  <div class="footer-content">
    <p>Blog de Estudos Â© 2026 </p>
    <div class="footer-links">

      <a href="sobre.html">Sobre</a>
      <a href="contato.html">Contato</a>
      <a href="termos.html">Termos de Uso</a>
      <a href="privacidade.html">Privacidade</a>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script src="js/auth.js"></script>
<script src="js/blog.js"></script>
<script>
  // Script para inicializar a pÃ¡gina
  document.addEventListener('DOMContentLoaded', function() {
    // Atualiza menu
    if (typeof atualizarMenu === 'function') {
      atualizarMenu();
    }
    
    // Atualiza botÃµes do hero baseados no login
    atualizarBotoesHero();
    
    // Carrega posts
    if (typeof carregarPosts === 'function') {
      carregarPosts();
    }
    
    // Carrega estatÃ­sticas
    if (typeof carregarEstatisticas === 'function') {
      carregarEstatisticas();
    }
  });

  function atualizarBotoesHero() {
    const usuario = JSON.parse(localStorage.getItem('usuarioLogado'));
    const heroButtons = document.getElementById('hero-buttons');
    
    if (usuario) {
      heroButtons.innerHTML = `
        <button class="btn-hero" onclick="mostrarFormularioPost()">
          <i class="fas fa-plus"></i> Criar Post
        </button>
        <button class="btn-hero-secondary" onclick="window.location.href='perfil.html'">
          <i class="fas fa-user"></i> Meu Perfil
        </button>
      `;
    } else {
      heroButtons.innerHTML = `
        <button class="btn-hero" onclick="window.location.href='cadastro.html'">
          <i class="fas fa-user-plus"></i> Cadastre-se
        </button>
        <button class="btn-hero-secondary" onclick="window.location.href='login.html'">
          <i class="fas fa-sign-in-alt"></i> Fazer Login
        </button>
      `;
    }
  }

  function mostrarFormularioPost() {
    const usuario = JSON.parse(localStorage.getItem('usuarioLogado'));
    
    if (!usuario) {
      alert('VocÃª precisa estar logado para criar um post!');
      window.location.href = 'login.html';
      return;
    }
    
    document.getElementById('formPostContainer').style.display = 'block';
    document.getElementById('btnNovoPost').style.display = 'none';
    window.scrollTo({ top: 300, behavior: 'smooth' });
  }

  function esconderFormularioPost() {
    document.getElementById('formPostContainer').style.display = 'none';
    document.getElementById('btnNovoPost').style.display = 'flex';
  }
</script>

</body>
</html>